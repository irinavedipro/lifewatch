<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>活气钟 • Живые Часы Здоровья</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', 'Times New Roman', serif;
            overflow: hidden;
            transition: background 2s ease;
            touch-action: pan-y;
        }

        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #f5f0e8 0%, #e8dfd0 100%);
            z-index: 1000;
            animation: fadeOut 1.5s ease 1.5s forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                pointer-events: none;
            }
        }

        .qi-character {
            font-size: 120px;
            color: #8b4513;
            opacity: 0;
            animation: brushStroke 1.5s ease forwards;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        @keyframes brushStroke {
            0% {
                opacity: 0;
                transform: scale(0.5) rotate(-5deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }

        .loading-text {
            margin-top: 20px;
            font-size: 18px;
            color: #8b4513;
            opacity: 0;
            animation: fadeIn 1s ease 0.8s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .main-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            overflow: hidden;
        }

        .background-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.05;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 50px, rgba(0,0,0,0.02) 50px, rgba(0,0,0,0.02) 51px),
                repeating-linear-gradient(90deg, transparent, transparent 50px, rgba(0,0,0,0.02) 50px, rgba(0,0,0,0.02) 51px);
            pointer-events: none;
        }

        .clock-container {
            position: relative;
            width: min(90vw, 500px);
            height: min(90vw, 500px);
            margin: 20px 0;
        }

        .wuxing-wheel {
            width: 100%;
            height: 100%;
            position: relative;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .element-segment {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-origin: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .element-segment path {
            transition: all 0.5s ease;
        }

        .element-segment.active path {
            filter: drop-shadow(0 0 20px currentColor);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .center-circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 35%;
            height: 35%;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            z-index: 10;
        }

        .current-time {
            font-size: clamp(20px, 5vw, 32px);
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .time-range {
            font-size: clamp(12px, 3vw, 16px);
            color: #666;
        }

        .info-panel {
            max-width: 600px;
            width: 90%;
            text-align: center;
            margin-top: 30px;
            animation: slideUp 0.8s ease 2s backwards;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .element-title {
            font-size: clamp(24px, 6vw, 36px);
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .element-wisdom {
            font-size: clamp(16px, 4vw, 22px);
            line-height: 1.6;
            color: #555;
            font-style: italic;
            margin-bottom: 25px;
        }

        .fohow-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .fohow-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .fohow-label {
            font-size: 14px;
            color: #888;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .fohow-product {
            font-size: clamp(18px, 4.5vw, 24px);
            color: #c41e3a;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .fohow-description {
            font-size: clamp(14px, 3.5vw, 16px);
            color: #666;
            line-height: 1.4;
        }

        .controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .signature {
            position: fixed;
            bottom: 10px;
            right: 20px;
            font-size: 12px;
            color: rgba(255,255,255,0.6);
            font-style: italic;
        }

        @media (max-width: 768px) {
            .info-panel {
                margin-top: 20px;
            }
            
            .controls {
                bottom: 10px;
                gap: 10px;
            }
            
            .control-btn {
                padding: 10px 18px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="loading-screen">
        <div class="qi-character">氣</div>
        <div class="loading-text">Энергия просыпается...</div>
    </div>

    <div class="main-container">
        <div class="background-pattern"></div>
        
        <div class="clock-container">
            <svg class="wuxing-wheel" viewBox="0 0 400 400" id="wheel">
                <!-- Five Elements Segments -->
                <g class="element-segment" data-element="heart" data-hours="11-13">
                    <path d="M 200 200 L 200 50 A 150 150 0 0 1 329.9 129.9 Z" fill="#dc143c" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="small-intestine" data-hours="13-15">
                    <path d="M 200 200 L 329.9 129.9 A 150 150 0 0 1 329.9 270.1 Z" fill="#ff6347" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="bladder" data-hours="15-17">
                    <path d="M 200 200 L 329.9 270.1 A 150 150 0 0 1 200 350 Z" fill="#4169e1" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="kidney" data-hours="17-19">
                    <path d="M 200 200 L 200 350 A 150 150 0 0 1 70.1 270.1 Z" fill="#191970" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="pericardium" data-hours="19-21">
                    <path d="M 200 200 L 70.1 270.1 A 150 150 0 0 1 70.1 129.9 Z" fill="#8b0000" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="san-jiao" data-hours="21-23">
                    <path d="M 200 200 L 70.1 129.9 A 150 150 0 0 1 200 50 Z" fill="#ff4500" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="gallbladder" data-hours="23-1">
                    <path d="M 200 200 L 200 50 A 150 150 0 0 1 329.9 129.9 Z" fill="#228b22" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="liver" data-hours="1-3">
                    <path d="M 200 200 L 329.9 129.9 A 150 150 0 0 1 329.9 270.1 Z" fill="#006400" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="lung" data-hours="3-5">
                    <path d="M 200 200 L 329.9 270.1 A 150 150 0 0 1 200 350 Z" fill="#dcdcdc" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="large-intestine" data-hours="5-7">
                    <path d="M 200 200 L 200 350 A 150 150 0 0 1 70.1 270.1 Z" fill="#f5f5f5" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="stomach" data-hours="7-9">
                    <path d="M 200 200 L 70.1 270.1 A 150 150 0 0 1 70.1 129.9 Z" fill="#daa520" opacity="0.3"/>
                </g>
                <g class="element-segment" data-element="spleen" data-hours="9-11">
                    <path d="M 200 200 L 70.1 129.9 A 150 150 0 0 1 200 50 Z" fill="#cd853f" opacity="0.3"/>
                </g>
            </svg>

            <div class="center-circle">
                <div class="current-time" id="currentTime">00:00</div>
                <div class="time-range" id="timeRange">00:00-02:00</div>
            </div>
        </div>

        <div class="info-panel">
            <h1 class="element-title" id="elementTitle">Время Воды</h1>
            <p class="element-wisdom" id="elementWisdom">Время глубокого покоя и восстановления...</p>
            
            <div class="fohow-card">
                <div class="fohow-label">Fohow рекомендует</div>
                <div class="fohow-product" id="productName">Продукт Fohow</div>
                <div class="fohow-description" id="productDesc">Поддержка вашего здоровья</div>
            </div>
        </div>

        <div class="controls">
            <button class="control-btn" onclick="adjustTime(-2)">⏪ -2ч</button>
            <button class="control-btn" onclick="resetToNow()">Сейчас</button>
            <button class="control-btn" onclick="adjustTime(2)">+2ч ⏩</button>
        </div>

        <div class="signature">✨ вайбкодинг от души для Тани</div>
    </div>

    <script>
        const organData = {
            'gallbladder': {
                hours: [23, 0, 1],
                element: 'Дерево',
                organ: 'Желчный пузырь',
                wisdom: 'Время принятия решений. Сейчас рождаются самые смелые планы.',
                product: 'Чай Фохоу с жимолостью',
                productDesc: 'Для ясности ума и легких решений',
                elementColor: '#228b22',
                bgDay: 'linear-gradient(135deg, #d4f1d4 0%, #a8e6a8 100%)',
                bgNight: 'linear-gradient(135deg, #1a3a1a 0%, #0d2b0d 100%)'
            },
            'liver': {
                hours: [1, 2, 3],
                element: 'Дерево',
                organ: 'Печень',
                wisdom: 'Час глубокого очищения. Тело восстанавливается, душа отдыхает.',
                product: 'Линчжи Фохоу',
                productDesc: 'Поддержка печени и детоксикация организма',
                elementColor: '#006400',
                bgDay: 'linear-gradient(135deg, #c8e6c8 0%, #90d090 100%)',
                bgNight: 'linear-gradient(135deg, #0d2b0d 0%, #061a06 100%)'
            },
            'lung': {
                hours: [3, 4, 5],
                element: 'Металл',
                organ: 'Легкие',
                wisdom: 'Время самого глубокого сна. Легкие наполняют тело жизненной силой.',
                product: 'Кордицепс Фохоу',
                productDesc: 'Для силы дыхания и энергии жизни',
                elementColor: '#dcdcdc',
                bgDay: 'linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)',
                bgNight: 'linear-gradient(135deg, #2c3e50 0%, #1a252f 100%)'
            },
            'large-intestine': {
                hours: [5, 6, 7],
                element: 'Металл',
                organ: 'Толстый кишечник',
                wisdom: 'Время отпускать. Освободитесь от лишнего, начните день налегке.',
                product: 'Клетчатка Фохоу',
                productDesc: 'Для легкости и чистоты',
                elementColor: '#c0c0c0',
                bgDay: 'linear-gradient(135deg, #faf9f7 0%, #f0ede8 100%)',
                bgNight: 'linear-gradient(135deg, #34495e 0%, #2c3e50 100%)'
            },
            'stomach': {
                hours: [7, 8, 9],
                element: 'Земля',
                organ: 'Желудок',
                wisdom: 'Золотой час для завтрака. Подарите телу топливо для свершений.',
                product: 'Каша Фохоу с грибами',
                productDesc: 'Идеальный теплый завтрак для энергии',
                elementColor: '#daa520',
                bgDay: 'linear-gradient(135deg, #f9e7c4 0%, #f5d9a0 100%)',
                bgNight: 'linear-gradient(135deg, #4a3a1a 0%, #3a2e15 100%)'
            },
            'spleen': {
                hours: [9, 10, 11],
                element: 'Земля',
                organ: 'Селезенка',
                wisdom: 'Пик работоспособности. Время усваивать знания и создавать.',
                product: 'Эликсир Тройная красота',
                productDesc: 'Питание изнутри для сияния снаружи',
                elementColor: '#cd853f',
                bgDay: 'linear-gradient(135deg, #f5e6d3 0%, #e8d4b8 100%)',
                bgNight: 'linear-gradient(135deg, #3d2f1f 0%, #2e2318 100%)'
            },
            'heart': {
                hours: [11, 12, 13],
                element: 'Огонь',
                organ: 'Сердце',
                wisdom: 'Солнце в зените. Время для радости, любви и легких дел.',
                product: 'Эликсир Феникс',
                productDesc: 'Для здоровья сердца и ясности духа',
                elementColor: '#dc143c',
                bgDay: 'linear-gradient(135deg, #ffe4e1 0%, #ffc9c9 100%)',
                bgNight: 'linear-gradient(135deg, #4a1a1a 0%, #3d1414 100%)'
            },
            'small-intestine': {
                hours: [13, 14, 15],
                element: 'Огонь',
                organ: 'Тонкий кишечник',
                wisdom: 'Время усвоения главного. Отложите суету, прислушайтесь к интуиции.',
                product: 'Чай Фохоу Гутань',
                productDesc: 'Для мудрого различения важного и пустого',
                elementColor: '#ff6347',
                bgDay: 'linear-gradient(135deg, #fff0e6 0%, #ffe0cc 100%)',
                bgNight: 'linear-gradient(135deg, #4a2a1a 0%, #3d2215 100%)'
            },
            'bladder': {
                hours: [15, 16, 17],
                element: 'Вода',
                organ: 'Мочевой пузырь',
                wisdom: 'Время второго дыхания. Завершайте дела и готовьтесь к вечеру.',
                product: 'Чай Фохоу 8 сокровищ',
                productDesc: 'Мягкая поддержка энергии без перевозбуждения',
                elementColor: '#4169e1',
                bgDay: 'linear-gradient(135deg, #e6f2ff 0%, #cce5ff 100%)',
                bgNight: 'linear-gradient(135deg, #1a2a4a 0%, #14213d 100%)'
            },
            'kidney': {
                hours: [17, 18, 19],
                element: 'Вода',
                organ: 'Почки',
                wisdom: 'Час силы и воли. Почки — источник жизненной энергии Цзин.',
                product: 'Спирулина Фохоу',
                productDesc: 'Для глубокого восстановления жизненных сил',
                elementColor: '#191970',
                bgDay: 'linear-gradient(135deg, #e0e8f5 0%, #c8d8ed 100%)',
                bgNight: 'linear-gradient(135deg, #0d1929 0%, #0a1220 100%)'
            },
            'pericardium': {
                hours: [19, 20, 21],
                element: 'Огонь',
                organ: 'Перикард',
                wisdom: 'Время защиты сердца. Окружите себя теплом и заботой.',
                product: 'Эликсир Три драгоценности',
                productDesc: 'Защита для сердца и гармония эмоций',
                elementColor: '#8b0000',
                bgDay: 'linear-gradient(135deg, #ffe4e8 0%, #ffccd5 100%)',
                bgNight: 'linear-gradient(135deg, #3d0a0a 0%, #2e0808 100%)'
            },
            'san-jiao': {
                hours: [21, 22, 23],
                element: 'Огонь',
                organ: 'Тройной обогреватель',
                wisdom: 'Время гармонии трех миров. Замедлитесь, готовьтесь ко сну.',
                product: 'Порошок Цзянчан',
                productDesc: 'Для баланса всех систем организма',
                elementColor: '#ff4500',
                bgDay: 'linear-gradient(135deg, #ffede6 0%, #ffd9cc 100%)',
                bgNight: 'linear-gradient(135deg, #4a1f0a 0%, #3d1908 100%)'
            }
        };

        let currentHour = new Date().getHours();
        let manualOffset = 0;

        function getOrganByHour(hour) {
            hour = ((hour % 24) + 24) % 24;
            for (let [key, data] of Object.entries(organData)) {
                if (data.hours.includes(hour)) {
                    return { key, data };
                }
            }
            return null;
        }

        function updateDisplay() {
            const displayHour = (currentHour + manualOffset) % 24;
            const organ = getOrganByHour(displayHour);
            
            if (!organ) return;

            const { key, data } = organ;
            const isNight = displayHour >= 20 || displayHour < 6;

            // Update background
            document.body.style.background = isNight ? data.bgNight : data.bgDay;

            // Update time display
            const nextHour = (displayHour + 2) % 24;
            document.getElementById('currentTime').textContent = 
                `${displayHour.toString().padStart(2, '0')}:00`;
            document.getElementById('timeRange').textContent = 
                `${displayHour.toString().padStart(2, '0')}:00-${nextHour.toString().padStart(2, '0')}:00`;

            // Update info
            document.getElementById('elementTitle').textContent = 
                `Сейчас время ${data.element}. Активен ${data.organ}`;
            document.getElementById('elementWisdom').textContent = data.wisdom;
            document.getElementById('productName').textContent = data.product;
            document.getElementById('productDesc').textContent = data.productDesc;

            // Update wheel
            const segments = document.querySelectorAll('.element-segment');
            segments.forEach(segment => {
                segment.classList.remove('active');
                const path = segment.querySelector('path');
                path.style.opacity = '0.3';
            });

            const activeSegment = document.querySelector(`[data-element="${key}"]`);
            if (activeSegment) {
                activeSegment.classList.add('active');
                const path = activeSegment.querySelector('path');
                path.style.opacity = '0.8';
                path.style.fill = data.elementColor;
            }
        }

        function adjustTime(hours) {
            manualOffset += hours;
            updateDisplay();
        }

        function resetToNow() {
            manualOffset = 0;
            currentHour = new Date().getHours();
            updateDisplay();
        }

        // Initialize
        updateDisplay();

        // Update every minute
        setInterval(() => {
            if (manualOffset === 0) {
                currentHour = new Date().getHours();
                updateDisplay();
            }
        }, 60000);

        // Touch/mouse drag to rotate
        let isDragging = false;
        let startAngle = 0;
        let currentAngle = 0;

        const wheel = document.getElementById('wheel');
        const container = document.querySelector('.clock-container');

        function getAngle(event) {
            const rect = container.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const clientX = event.touches ? event.touches[0].clientX : event.clientX;
            const clientY = event.touches ? event.touches[0].clientY : event.clientY;
            return Math.atan2(clientY - centerY, clientX - centerX) * 180 / Math.PI;
        }

        container.addEventListener('mousedown', (e) => {
            isDragging = true;
            startAngle = getAngle(e);
        });

        container.addEventListener('touchstart', (e) => {
            isDragging = true;
            startAngle = getAngle(e);
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            const angle = getAngle(e);
            const delta = angle - startAngle;
            if (Math.abs(delta) > 15) {
                adjustTime(delta > 0 ? 2 : -2);
                startAngle = angle;
            }
        });

        document.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            const angle = getAngle(e);
            const delta = angle - startAngle;
            if (Math.abs(delta) > 15) {
                adjustTime(delta > 0 ? 2 : -2);
                startAngle = angle;
            }
        });

        document.addEventListener('mouseup', () => isDragging = false);
        document.addEventListener('touchend', () => isDragging = false);
    </script>
</body>
</html>